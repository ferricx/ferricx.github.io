<div class="label-row">
  <label [for]="fieldId">
    <span class="label-main">{{ label }}</span>
    @if (hint) {
      <span class="label-hint">{{ hint }}</span>
    }
    @if (required) {
      <span class="required-indicator" aria-hidden="true">*</span>
      <span class="sr-only"> (required)</span>
    }
  </label>

  @if (tipContent) {
    <app-popover-tip [ariaLabel]="'Show tip for ' + label">
      <ng-container [ngTemplateOutlet]="tipContent"></ng-container>
    </app-popover-tip>
  }
</div>

<input
  #fieldInput
  [id]="fieldId"
  [name]="name"
  [type]="type"
  [attr.autocomplete]="autocomplete || null"
  [attr.inputmode]="inputmode"
  [attr.pattern]="pattern"
  [attr.maxlength]="maxlength"
  [required]="required"
  [attr.aria-describedby]="errorId"
  [attr.aria-invalid]="errorMessage ? 'true' : 'false'"
  (invalid)="onInvalid($event)"
  (input)="onInput()"
  (blur)="onBlur()"
/>

<div [id]="errorId" class="form-error">{{ errorMessage }}</div>
