<div
  class="popover-root"
  [style.--popover-anchor-name]="'--' + popoverId + '-anchor'"
  (focusout)="handleRootFocusOut($event)"
>
  <button
    class="popover-trigger"
    type="button"
    [attr.popovertarget]="popoverId"
    [attr.aria-label]="ariaLabel"
    [attr.aria-describedby]="popoverId"
    popovertargetaction="toggle"
    (click)="markOpenedByClick()"
    (mouseenter)="openByHover()"
    (mouseleave)="handleHoverLeave($event)"
    (focusin)="openByFocus()"
  >
    <span aria-hidden="true">{{ buttonLabel }}</span>
  </button>

  <div
    #popoverPanel
    [id]="popoverId"
    class="popover"
    [class.position-right]="positionClass === 'position-right'"
    [class.position-left]="positionClass === 'position-left'"
    [class.position-above]="positionClass === 'position-above'"
    [class.position-center-above]="positionClass === 'position-center-above'"
    [class.position-below]="positionClass === 'position-below'"
    [class.position-center-below]="positionClass === 'position-center-below'"
    popover="auto"
    (toggle)="handlePopoverToggle()"
    (mouseenter)="handleHoverEnter()"
    (mouseleave)="handleHoverLeave($event)"
  >
    <div class="popover-content">
      <div class="popover-body">
        <ng-content></ng-content>
      </div>
    </div>
  </div>
</div>
